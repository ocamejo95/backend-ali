{"version":3,"file":"src_app_domain_perfil-usuario_perfil-usuario_module_ts.js","mappings":"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","sources":["./src/app/domain/perfil-usuario/perfil-usuario-routing.module.ts","./src/app/domain/perfil-usuario/perfil-usuario.module.ts","./src/app/domain/perfil-usuario/profile/profile.component.ts","./src/app/domain/perfil-usuario/profile/profile.component.html"],"sourcesContent":["import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {ProfileComponent} from './profile/profile.component';\n\nconst routes: Routes = [\n  {path: 'profile', component: ProfileComponent},\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PerfilUsuarioRoutingModule {\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { PerfilUsuarioRoutingModule } from './perfil-usuario-routing.module';\nimport { ProfileComponent } from './profile/profile.component';\nimport {NbButtonModule, NbCardModule, NbInputModule, NbTabsetModule} from '@nebular/theme';\nimport {ReactiveFormsModule} from '@angular/forms';\n\n\n@NgModule({\n  declarations: [\n    ProfileComponent,\n  ],\n  imports: [\n    CommonModule,\n    PerfilUsuarioRoutingModule,\n    NbTabsetModule,\n    NbCardModule,\n    NbButtonModule,\n    NbInputModule,\n    ReactiveFormsModule,\n\n  ],\n})\nexport class PerfilUsuarioModule { }\n","import {Component, OnInit} from '@angular/core';\nimport {AuthService} from '../../../auth/services/auth.service';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {UserService} from '../../seguridad/services/user.service';\nimport {NbToastrService} from '@nebular/theme';\nimport Swal from 'sweetalert2';\nimport {User} from '../../../auth/models/user';\n\n@Component({\n  selector: 'ngx-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.scss'],\n})\nexport class ProfileComponent implements OnInit {\n  public usuario: User;\n  public perfilForm: FormGroup;\n  public passwordForm = this.formBuilder.group({\n    c_password: ['', [Validators.required, Validators.minLength(6), Validators.maxLength(20)]],\n    password: ['', [Validators.required, Validators.minLength(6), Validators.maxLength(20)]],\n    r_password: ['', [Validators.required, Validators.minLength(6), Validators.maxLength(20)]],\n  });\n\n  constructor(private authService: AuthService,\n              private formBuilder: FormBuilder,\n              private userService: UserService,\n              private toastrService: NbToastrService) {\n    this.usuario = this.authService.usuario;\n  }\n\n  ngOnInit(): void {\n    this.perfilForm = this.formBuilder.group({\n      name: [this.usuario.name, [Validators.required]],\n      username: [this.usuario.username, [Validators.required]],\n      email: [this.usuario.email, [Validators.required, Validators.email]],\n    });\n  }\n\n  edituser() {\n    this.userService.updateUser(this.usuario._id, this.perfilForm.value)\n      .subscribe(resp => {\n        const {name, username, email} = resp.userUpdate;\n        this.usuario.name = name;\n        this.usuario.username = username;\n        this.usuario.email = email;\n        this.toastrService.success('User Edited successfully!', 'Done!');\n      });\n  }\n\n  cambiarPassword() {\n    this.userService.changePassword(this.usuario._id, this.passwordForm.value)\n      .subscribe(resp => {\n          this.passwordForm.reset();\n          this.toastrService.success('Password Updated Successfully!', 'Done!');\n        },\n        error => Swal.fire('Error', error.error.message, 'error'));\n  }\n\n}\n","<div class=\"row\">\n  <div class=\"col-lg-5\">\n    <nb-card>\n      <nb-card-body>\n        <div class=\"card-profile\">\n          <img alt=\"Profile\" class=\"rounded-circle\"\n               src=\"https://www.labsaenzrenauld.com/wp-content/uploads/2020/10/Perfil-hombre-ba%CC%81sico_738242395.jpg\">\n          <h5>{{ usuario.name }}</h5>\n          <p>{{ usuario.username }}</p>\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n\n  <div class=\"col-lg-7\">\n    <nb-card size=\"small\">\n      <nb-tabset>\n        <nb-tab class=\"animate__animated animate__fadeIn mt-2\" tabTitle=\"Overview\">\n          <h5 class=\"card-title\">Profile Details</h5>\n          <div class=\"row\">\n            <div class=\"col-lg-3 col-md-4 label \">Full Name:</div>\n            <div class=\"col-lg-9 col-md-8\"><p>{{ usuario.name }}</p></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-lg-3 col-md-4 label \">Username:</div>\n            <div class=\"col-lg-9 col-md-8\"><p>{{ usuario.username }}</p></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-lg-3 col-md-4 label \">Email:</div>\n            <div class=\"col-lg-9 col-md-8\"><p>{{ usuario.email }}</p></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-lg-3 col-md-4 label \">Role:</div>\n            <div class=\"col-lg-9 col-md-8\"><p>Vacio</p></div>\n          </div>\n        </nb-tab>\n\n        <nb-tab class=\"animate__animated animate__fadeIn mt-2\" tabTitle=\"Edit Profile\">\n          <form (submit)=\"edituser()\"\n                [formGroup]=\"perfilForm\"\n                autocomplete=\"off\">\n            <div class=\"form-group row\">\n              <label class=\"label col-sm-3 col-form-label\" for=\"inputName\">Full name</label>\n              <div class=\"col-sm-9\">\n                <input formControlName=\"name\" fullWidth id=\"inputName\" nbInput placeholder=\"Full name\" type=\"text\">\n                <ng-container *ngIf=\"perfilForm.get('name')?.invalid && perfilForm.get('name').touched\">\n                  <p *ngIf=\"perfilForm.get('name').errors?.required\" class=\"caption status-danger\">\n                    Full name is required!\n                  </p>\n                </ng-container>\n              </div>\n            </div>\n            <div class=\"form-group row\">\n              <label class=\"label col-sm-3 col-form-label\" for=\"inputUsername\">Username</label>\n              <div class=\"col-sm-9\">\n                <input formControlName=\"username\" fullWidth id=\"inputUsername\" nbInput placeholder=\"Username\"\n                       type=\"text\">\n                <ng-container *ngIf=\"perfilForm.get('username')?.invalid && perfilForm.get('username').touched\">\n                  <p *ngIf=\"perfilForm.get('username').errors?.required\" class=\"caption status-danger\">\n                    Username is required!\n                  </p>\n                </ng-container>\n              </div>\n            </div>\n            <div class=\"form-group row\">\n              <label class=\"label col-sm-3 col-form-label\" for=\"inputEmail\">Email</label>\n              <div class=\"col-sm-9\">\n                <input formControlName=\"email\" fullWidth id=\"inputEmail\" nbInput placeholder=\"Email\" type=\"text\">\n                <ng-container *ngIf=\"perfilForm.get('email')?.invalid && perfilForm.get('email').touched\">\n                  <p *ngIf=\"perfilForm.get('email').errors?.required\" class=\"caption status-danger\">\n                    Email is required!\n                  </p>\n                </ng-container>\n              </div>\n            </div>\n            <div class=\"form-group row\">\n              <div class=\"offset-sm-3 col-sm-9\">\n                <button [disabled]=\"perfilForm.invalid\" class=\"mb-5\" nbButton status=\"primary\" type=\"submit\">Submit\n                </button>\n              </div>\n            </div>\n          </form>\n        </nb-tab>\n\n        <nb-tab class=\"animate__animated animate__fadeIn mt-2\" tabTitle=\"Change Password\">\n          <form\n            (submit)=\"cambiarPassword()\"\n            [formGroup]=\"passwordForm\">\n            <div class=\"form-group row\">\n              <label class=\"label col-sm-3 col-form-label\" for=\"inputCurrent\">Current Password</label>\n              <div class=\"col-sm-9\">\n                <input formControlName=\"c_password\" fullWidth id=\"inputCurrent\" nbInput placeholder=\"Current Password\"\n                       type=\"password\">\n              </div>\n            </div>\n            <div class=\"form-group row\">\n              <label class=\"label col-sm-3 col-form-label\" for=\"inputPassword2\">New Password</label>\n              <div class=\"col-sm-9\">\n                <input formControlName=\"password\" fullWidth id=\"inputPassword2\" nbInput placeholder=\"New Password\"\n                       type=\"password\">\n                <ng-container *ngIf=\"passwordForm.get('password')?.invalid && passwordForm.get('password').touched\">\n                  <p *ngIf=\"passwordForm.get('password').errors?.required\" class=\"caption status-danger\">\n                    Password is required!\n                  </p>\n                </ng-container>\n              </div>\n            </div>\n            <div class=\"form-group row\">\n              <label class=\"label col-sm-3 col-form-label\" for=\"inputPassword2\">Re-enter New Password</label>\n              <div class=\"col-sm-9\">\n                <input formControlName=\"r_password\" fullWidth id=\"inputPassword3\" nbInput\n                       placeholder=\"Re-enter New Password\" type=\"password\">\n              </div>\n            </div>\n            <div class=\"form-group row\">\n              <div class=\"offset-sm-3 col-sm-9\">\n                <button [disabled]=\"passwordForm.invalid\" nbButton status=\"primary\" type=\"submit\">Change Password\n                </button>\n              </div>\n            </div>\n          </form>\n        </nb-tab>\n      </nb-tabset>\n    </nb-card>\n  </div>\n</div>\n"],"names":[],"sourceRoot":"webpack:///"}