{"version":3,"file":"src_app_domain_seguridad_seguridad_module_ts.js","mappings":"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","sources":["./src/app/domain/seguridad/gestionar-usuario/gestionar-usuario.component.ts","./src/app/domain/seguridad/gestionar-usuario/gestionar-usuario.component.html","./src/app/domain/seguridad/seguridad-routing.module.ts","./src/app/domain/seguridad/seguridad.module.ts"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {FormBuilder, Validators} from '@angular/forms';\nimport {LocalDataSource} from 'ng2-smart-table';\nimport {UserService} from '../services/user.service';\nimport {NbToastrService} from '@nebular/theme';\nimport {AuthService} from '../../../auth/services/auth.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'ngx-gestionar-usuario',\n  templateUrl: './gestionar-usuario.component.html',\n  styleUrls: ['./gestionar-usuario.component.scss'],\n})\nexport class GestionarUsuarioComponent implements OnInit {\n  public ifShow = false;\n  public title;\n\n  public createUserForm = this.formBuilder.group({\n    id: [],\n    name: ['', Validators.required],\n    username: ['', Validators.required],\n    email: ['', [Validators.required, Validators.email]],\n    password: ['', Validators.required],\n  });\n\n  settings = {\n    add: {\n      addButtonContent: '<i class=\"nb-plus\"></i>',\n      createButtonContent: '<i class=\"nb-checkmark\"></i>',\n      cancelButtonContent: '<i class=\"nb-close\"></i>',\n    },\n    edit: {\n      editButtonContent: '<i class=\"nb-edit\"></i>',\n      saveButtonContent: '<i class=\"nb-checkmark\"></i>',\n      cancelButtonContent: '<i class=\"nb-close\"></i>',\n    },\n    delete: {\n      deleteButtonContent: '<i class=\"nb-trash\"></i>',\n      confirmDelete: true,\n    },\n    columns: {\n\n      name: {\n        title: 'Name',\n        type: 'string',\n      },\n      email: {\n        title: 'Email',\n        type: 'string',\n      },\n      username: {\n        title: 'Username',\n        type: 'string',\n      },\n    },\n    actions: {\n      add: true,\n      position: 'right',\n    },\n    mode: 'external',\n\n  };\n\n  source: LocalDataSource = new LocalDataSource();\n\n  constructor(private userService: UserService,\n              private formBuilder: FormBuilder,\n              private toastrService: NbToastrService,\n              private authService: AuthService) {\n  }\n\n  ngOnInit(): void {\n    this.getListUser();\n  }\n\n  getListUser() {\n    this.userService.getAllUser()\n      .subscribe(resp => {\n        this.source = resp.listUsers;\n      });\n  }\n\n  onDeleteConfirm(event) {\n    if (event.data._id === this.authService.usuario._id) {\n      return Swal.fire({\n        title: 'Info',\n        text: 'You can not delete yourself!',\n        icon: 'info',\n        confirmButtonColor: '#497bff',\n      });\n    }\n\n    Swal.fire({\n      title: 'Are you sure?',\n      text: 'You won\\'t be able to revert this!',\n      icon: 'question',\n      showCancelButton: true,\n      confirmButtonColor: '#497bff',\n      cancelButtonColor: '#ff4274',\n      confirmButtonText: 'Yes, delete it!',\n    }).then((result) => {\n      if (result.isConfirmed) {\n        this.userService.deleteUser(event.data._id)\n          .subscribe(resp => {\n            this.getListUser();\n            this.toastrService.success('User deleted successfully!', 'Done!');\n          });\n      }\n    });\n  }\n\n  onUpdateConfirm(event) {\n    this.title = 'Edit User';\n    this.ifShow = true;\n    this.createUserForm = this.formBuilder.group({\n      id: [event.data._id],\n      name: [event.data.name, Validators.required],\n      username: [event.data.username, Validators.required],\n      email: [event.data.email, [Validators.required, Validators.email]],\n      password: [],\n    });\n\n  }\n\n  openForm() {\n    this.title = 'Create User';\n    this.ifShow = true;\n    this.createUserForm.reset();\n  }\n\n  cancel() {\n    this.ifShow = false;\n    this.createUserForm.reset();\n  }\n\n  submitCreate() {\n    this.authService.register(this.createUserForm.value)\n      .subscribe(resp => {\n        this.getListUser();\n        this.toastrService.success('User created successfully!', 'Done!');\n        this.ifShow = false;\n      });\n  }\n\n  submitUpdate() {\n    this.userService.updateUser(this.createUserForm.value, this.createUserForm.value.id)\n      .subscribe(resp => {\n        this.getListUser();\n        this.toastrService.success('User Edited successfully!', 'Done!');\n        this.ifShow = false;\n      });\n  }\n\n}\n","<nb-card *ngIf=\"ifShow\" class=\"animate__animated animate__fadeIn\">\n  <nb-card-header>\n    {{ title }}\n  </nb-card-header>\n  <nb-card-body>\n    <form\n      [formGroup]=\"createUserForm\">\n      <div class=\"row\">\n        <div class=\"col-md-6\">\n          <div class=\"form-group\">\n            <label class=\"label\" for=\"exampleInputEmail1\">Full Name</label>\n            <input formControlName=\"name\" fullWidth id=\"exampleInputName\" nbInput placeholder=\"Name\" type=\"name\">\n          </div>\n          <div class=\"form-group\">\n            <label class=\"label\" for=\"exampleInputEmail1\">Username</label>\n            <input formControlName=\"username\" fullWidth id=\"exampleInputUsername\" nbInput placeholder=\"Username\"\n                   type=\"username\">\n          </div>\n        </div>\n\n        <div class=\"col-md-6\">\n          <div class=\"form-group\">\n            <label class=\"label\" for=\"exampleInputEmail1\">Email address</label>\n            <input formControlName=\"email\" fullWidth id=\"exampleInputEmail1\" nbInput placeholder=\"Email\" type=\"email\">\n          </div>\n          <div class=\"form-group\">\n            <label class=\"label\" for=\"exampleInputPassword1\">Password</label>\n            <input formControlName=\"password\" fullWidth id=\"exampleInputPassword1\" nbInput placeholder=\"Password\"\n                   type=\"password\">\n          </div>\n        </div>\n        <div class=\"col-md-12\">\n          <button (click)=\"this.createUserForm.get('id').value !== null ? submitUpdate() : submitCreate() \" nbButton status=\"primary\">Submit</button>\n          <button (click)=\"cancel()\" class=\"cancel\" nbButton status=\"danger\">Cancel</button>\n        </div>\n      </div>\n    </form>\n  </nb-card-body>\n</nb-card>\n\n\n<nb-card>\n  <nb-card-header>\n    Manage Users\n  </nb-card-header>\n  <nb-card-body>\n    <ng2-smart-table (create)=\"openForm()\" (delete)=\"onDeleteConfirm($event)\" (edit)=\"onUpdateConfirm($event)\"\n                     [settings]=\"settings\"\n                     [source]=\"source\">\n    </ng2-smart-table>\n  </nb-card-body>\n</nb-card>\n","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {GestionarUsuarioComponent} from './gestionar-usuario/gestionar-usuario.component';\n\nconst routes: Routes = [\n  {path: 'manage-users', component: GestionarUsuarioComponent},\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SeguridadRoutingModule {\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { SeguridadRoutingModule } from './seguridad-routing.module';\nimport { GestionarUsuarioComponent } from './gestionar-usuario/gestionar-usuario.component';\nimport {ReactiveFormsModule} from '@angular/forms';\nimport {NbButtonModule, NbCardModule, NbInputModule} from '@nebular/theme';\nimport {Ng2SmartTableModule} from 'ng2-smart-table';\n\n\n@NgModule({\n  declarations: [\n    GestionarUsuarioComponent,\n  ],\n  imports: [\n    CommonModule,\n    SeguridadRoutingModule,\n    ReactiveFormsModule,\n    NbCardModule,\n    NbButtonModule,\n    Ng2SmartTableModule,\n    NbInputModule,\n  ],\n})\nexport class SeguridadModule { }\n"],"names":[],"sourceRoot":"webpack:///"}